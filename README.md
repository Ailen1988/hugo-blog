# hugo-docker-dev
Docker image for [Hugo](https://gohugo.io/) development environment
You can build static sites generated by Hugo with this docker image. The development environment dependencies are defined in the docker image, and the site's files and data are in local disk in the host. Any changes in the directory will be directly reflected in the static sites.

The directory structure of the site is as following:
```
.
└── site
    ├── config.toml / config.yaml / config.json
    ├── content
    │   └── ...
    ├── layouts
    │   └── ...
    ├── themes
    │   └── ...
    ├── static
	│   └── ...
    ├── archetypes
    │   └── ...
    ├── data
    │   └── ...
    └── ...
```


## Get the Image
There are two ways to get the docker image. One is from docker hub, the other is building by yourself.

### From Docker hub
TBC...

### Build the Image
Check `HUGO_VERSION` in the Dockfile compared to [Hugo](https://github.com/gohugoio/hugo). Modify `HUGO_VERSION` if it is not the latest version.

Go to the repo's root and open the terminal:
```shell
$ docker build -t your/image-name:your-tag -t your/image-name:latest.
```
`-t` tags the image and one image can be tagged several times.

`your/image-name` is the formatted by docker hub. It is not the official image so you have to put your docker cloud name before the slash.

e.g.
```shell
$ docker build -t orianna/hugo-docker-dev:0.1 -t orianna/image-hugo-docker-dev:latest.
```

Check the image, and this image is only 94.0MB now.:
```shell
$ docker images
```

## Executing
Run the docker container:
```shell
$ docker run --name container-name -v $(pwd)/your-site-path:/hugo-site -p 1313:1313 --rm your/image-name:your-tag 
```
e.g.
```shell
$ docker run --name my-hugo -v $(pwd)/site-sample:/hugo-site -p 1313:1313 --rm orianna/hugo-docker-dev:latest
```
`--name` defines the name of the container.

`-v` mounts the local directory to the docker.

`-p` defines the port mapping.

`--rm` means the container created by the command will be removed after the container is stopped.

Now you can check the sample at http://localhost:1313/!
